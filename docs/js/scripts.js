document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".burger")){const l=document.querySelector(".burger"),i=document.querySelector(".nav"),d=document.querySelector(".cancel"),u=i.querySelectorAll("a"),s=document.querySelector(".dark");function e(){i.style.right="-100%",s.style.display="none"}l.addEventListener("click",(function(){i.style.right="0",s.style.display="block"})),u.forEach((t=>{t.classList.contains("toggle")||t.addEventListener("click",e),window.innerWidth<1200&&t.addEventListener("click",(function(){t.classList.toggle("hover_a")}))})),d.addEventListener("click",(function(t){t.preventDefault(),e()})),s.addEventListener("click",e)}const t=document.querySelectorAll(".readmore");var n,c;if(n="visible",c="readmore-active",t.forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault(),e.nextElementSibling.classList.toggle(n),e.classList.toggle(c)}))})),document.querySelector(".menu")&&window.innerWidth<1200){const a=document.querySelector(".toggle"),g=document.querySelector(".submenu");a.addEventListener("click",(function(e){e.preventDefault(),g.classList.toggle("d-block")}))}const o=document.querySelector("form[action='sendorder.php']"),r=o.querySelector("#sourcePage");o&&r&&(r.value=document.body.dataset.page||"Невідома сторінка")}));
const form=document.querySelector("form[action='sendorder.php']"),phoneInput=form.querySelector("input[name='userPhone']"),nameInput=form.querySelector("input[name='userName']"),nameSurInput=form.querySelector("input[name='userSurName']"),emailInputs=form.querySelectorAll("input[name='email']"),errorTel=document.querySelector(".error_tel"),errorEmail=document.querySelector(".error"),errorName=document.querySelector(".errorName"),errorSurName=document.querySelector(".errorSurName"),maxLength=50,minLength=3;phoneInput.addEventListener("focus",(function(){phoneInput.value.startsWith("+380")||(phoneInput.value="+380")})),phoneInput.addEventListener("input",(function(){let e=phoneInput.value.replace(/[^\d+]/g,"");e.startsWith("+380")||(e="+380"+e.slice(3)),e.length>13&&(e=e.slice(0,13)),phoneInput.value=e,isValidPhoneNumber(e)?(phoneInput.style.borderColor="green",phoneInput.style.color="#121212",errorTel.style.display="none"):(phoneInput.style.borderColor="#EB4242",phoneInput.style.color="#EB4242",errorTel.style.display="block")}));const emailPattern=/^[a-zA-Z][a-zA-Z0-9._-]+[a-zA-Z0-9]@([a-z_-]+(\.\w+)?(\.\w{2,3}))$/;function isValidPhoneNumber(e){return/^\+380\d{9}$/.test(e)}emailInputs.forEach((e=>{e.addEventListener("input",(()=>{const r=e.value.trim();emailPattern.test(r)?(e.style.borderColor="green",e.style.color="#121212",errorEmail.style.display="none"):(e.style.borderColor="#EB4242",e.style.color="#EB4242",errorEmail.style.display="block")}))})),form.addEventListener("submit",(e=>{let r=!0;const t=phoneInput.value.trim(),o=nameInput.value.trim(),n=nameSurInput.value.trim();t&&isValidPhoneNumber(t)||(errorTel.style.display="block",phoneInput.style.borderColor="#EB4242",r=!1),o.length<3||o.length>50?(errorName.style.display="block",nameInput.style.borderColor="#EB4242",r=!1):(errorName.style.display="none",nameInput.style.borderColor="green"),n.length<3||n.length>50?(errorSurName.style.display="block",nameSurInput.style.borderColor="#EB4242",r=!1):(errorSurName.style.display="none",nameSurInput.style.borderColor="green"),emailInputs.forEach((e=>{const t=e.value.trim();emailPattern.test(t)||(e.style.borderColor="#EB4242",e.style.color="#EB4242",errorEmail.style.display="block",r=!1)})),r||e.preventDefault()}));